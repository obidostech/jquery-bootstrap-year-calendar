/**
 * jQuery  Bootstrap year calendar 1.0.0
 * Copyright 2018, Allset
 * Licensed under the MIT license.
 * @author Piotr Zatorski
 */

(function(a){function b(b,f){f.empty();var g=parseInt(b.boostrapVersion);3==g?(colColXs2="col-xs-2",colColXs3="col-xs-3",colColXs4="col-xs-4"):(colColXs2="col",colColXs3="col",colColXs4="col");var h=b.startYear,i=new Date(h,0).getDay();if(0==h%4&&0!=h%100||0==h%400)var j=29;else j=28;var k="<div class=\"jqyc\" ><div class=\"jqyc-year-chooser border-top border-bottom row align-items-center\" data-current-year=\""+h+"\"><div class=\""+colColXs2+" text-left\">   <button type=\"button\" class=\"btn btn-primary btn-sm jqyc-prev-year jqyc-change-year\" data-year=\""+(h-1)+"\">&larr;</button></div><div class=\""+colColXs2+" text-center text-muted\"><small>"+(h-1)+"</small></div><div class=\"jqyc-year "+colColXs4+"\">"+h+"</div><div class=\""+colColXs2+" text-center text-muted\"><small>"+(h+1)+"</small></div><div class=\""+colColXs2+" text-right\">   <button type=\"button\" class=\"btn btn-primary btn-sm jqyc-next-year jqyc-change-year\" data-year=\""+h+"\">&rarr;</button></div></div><div class=\"jqyc-months mt-4\"><div class=\"jqyc-month jqyc-jan\" data-month=\"1\" data-year=\""+h+"\"></div><div class=\"jqyc-month jqyc-feb\" data-month=\"2\" data-year=\""+h+"\"></div><div class=\"jqyc-month jqyc-mar\" data-month=\"3\" data-year=\""+h+"\"></div><div class=\"jqyc-month jqyc-apr\" data-month=\"4\" data-year=\""+h+"\"></div><div class=\"jqyc-month jqyc-may\" data-month=\"5\" data-year=\""+h+"\"></div><div class=\"jqyc-month jqyc-jun\" data-month=\"6\" data-year=\""+h+"\"></div><div class=\"jqyc-month jqyc-jul\" data-month=\"7\" data-year=\""+h+"\"></div><div class=\"jqyc-month jqyc-aug\" data-month=\"8\" data-year=\""+h+"\"></div><div class=\"jqyc-month jqyc-sep\" data-month=\"9\" data-year=\""+h+"\"></div><div class=\"jqyc-month jqyc-oct\" data-month=\"10\" data-year=\""+h+"\"></div><div class=\"jqyc-month jqyc-nov\" data-month=\"11\" data-year=\""+h+"\"></div><div class=\"jqyc-month jqyc-dec\" data-month=\"12\" data-year=\""+h+"\"></div></div></div>",l="<table class=\"table table-sm jqyc-table\"><thead><tr class=\"jqyc-tr jqyc-thead-tr\"><th class=\"jqyc-th\" scope=\"col\">"+b.l10n.su+"</th><th class=\"jqyc-th\" scope=\"col\">"+b.l10n.mn+"</th><th class=\"jqyc-th\" scope=\"col\">"+b.l10n.tu+"</th><th class=\"jqyc-th\" scope=\"col\">"+b.l10n.we+"</th><th class=\"jqyc-th\" scope=\"col\">"+b.l10n.th+"</th><th class=\"jqyc-th\" scope=\"col\">"+b.l10n.fr+"</th><th class=\"jqyc-th\" scope=\"col\">"+b.l10n.sa+"</th></tr></thead><tbody></tbody></table>",m=a(f);m.append(k);var n=c(i+1,1,h,31),o=n.monthHTMLString;b.showHeaders&&m.find(".jqyc-jan").append("<h5 class=\"jqyc-header\">"+b.l10n.jan+"</h5>"),m.find(".jqyc-jan").append(l).find("tbody").append(o);var n=c(n.firstDayOfPreviousMonth,2,h,j),o=n.monthHTMLString;b.showHeaders&&m.find(".jqyc-feb").append("<h5 class=\"jqyc-header\">"+b.l10n.feb+"</h5>"),m.find(".jqyc-feb").append(l).find("tbody").append(o);var n=c(n.firstDayOfPreviousMonth,3,h,31),o=n.monthHTMLString;b.showHeaders&&m.find(".jqyc-mar").append("<h5 class=\"jqyc-header\">"+b.l10n.mar+"</h5>"),m.find(".jqyc-mar").append(l).find("tbody").append(o);var n=c(n.firstDayOfPreviousMonth,4,h,30),o=n.monthHTMLString;b.showHeaders&&m.find(".jqyc-apr").append("<h5 class=\"jqyc-header\">"+b.l10n.apr+"</h5>"),m.find(".jqyc-apr").append(l).find("tbody").append(o);var n=c(n.firstDayOfPreviousMonth,5,h,31),o=n.monthHTMLString;b.showHeaders&&m.find(".jqyc-may").append("<h5 class=\"jqyc-header\">"+b.l10n.may+"</h5>"),m.find(".jqyc-may").append(l).find("tbody").append(o);var n=c(n.firstDayOfPreviousMonth,6,h,30),o=n.monthHTMLString;b.showHeaders&&m.find(".jqyc-jun").append("<h5 class=\"jqyc-header\">"+b.l10n.jun+"</h5>"),m.find(".jqyc-jun").append(l).find("tbody").append(o);var n=c(n.firstDayOfPreviousMonth,7,h,31),o=n.monthHTMLString;b.showHeaders&&m.find(".jqyc-jul").append("<h5 class=\"jqyc-header\">"+b.l10n.jul+"</h5>"),m.find(".jqyc-jul").append(l).find("tbody").append(o);var n=c(n.firstDayOfPreviousMonth,8,h,31),o=n.monthHTMLString;b.showHeaders&&m.find(".jqyc-aug").append("<h5 class=\"jqyc-header\">"+b.l10n.aug+"</h5>"),m.find(".jqyc-aug").append(l).find("tbody").append(o);var n=c(n.firstDayOfPreviousMonth,9,h,30),o=n.monthHTMLString;b.showHeaders&&m.find(".jqyc-sep").append("<h5 class=\"jqyc-header\">"+b.l10n.sep+"</h5>"),m.find(".jqyc-sep").append(l).find("tbody").append(o);var n=c(n.firstDayOfPreviousMonth,10,h,31),o=n.monthHTMLString;b.showHeaders&&m.find(".jqyc-oct").append("<h5 class=\"jqyc-header\">"+b.l10n.oct+"</h5>"),m.find(".jqyc-oct").append(l).find("tbody").append(o);var n=c(n.firstDayOfPreviousMonth,11,h,30),o=n.monthHTMLString;b.showHeaders&&m.find(".jqyc-nov").append("<h5 class=\"jqyc-header\">"+b.l10n.nov+"</h5>"),m.find(".jqyc-nov").append(l).find("tbody").append(o);var n=c(n.firstDayOfPreviousMonth,12,h,31),o=n.monthHTMLString;b.showHeaders&&m.find(".jqyc-dec").append("<h5 class=\"jqyc-header\">"+b.l10n.dec+"</h5>"),m.find(".jqyc-dec").append(l).find("tbody").append(o),12!=b.cols&&(f.find(".jqyc-months").addClass("row"),f.find(".jqyc-month").addClass("col-"+b.cols)),12!=b.colsSm&&(f.find(".jqyc-months").addClass("row"),f.find(".jqyc-month").addClass("col-sm-"+b.colsSm)),12!=b.colsMd&&(f.find(".jqyc-months").addClass("row"),f.find(".jqyc-month").addClass("col-md-"+b.colsMd)),12!=b.colsLg&&(f.find(".jqyc-months").addClass("row"),f.find(".jqyc-month").addClass("col-lg-"+b.colsLg)),12!=b.colsXl&&(f.find(".jqyc-months").addClass("row"),f.find(".jqyc-month").addClass("col-xl-"+b.colsXl)),b.minYear&&b.minYear>=h&&$calendar.find(".jqyc-prev-year").hide(),b.maxYear&&b.maxYear<=h&&$calendar.find(".jqyc-next-year").hide(),$calendar.trigger("jqyc.changeYear"),d();var p=$calendar.data("year"),q=$calendar.data("month"),r=$calendar.data("day-of-month");$calendar.find(".jqyc-not-empty-td[data-day-of-month=\""+r+"\"][data-month=\""+q+"\"][data-year=\""+p+"\"]").addClass(b.addUniqueClassOnClick),"rangepicker"==b.mode&&e("jqyc-range-choosen-between")}function c(a,b,c,e=31){0==a&&(a=7);for(var f="",g=1,h=1;g<=e;)1==h%7&&(f+="<tr class=\"jqyc-tr jqyc-tbody-tr\">"),h<a?(g--,f+="<td class=\"jqyc-empty-td jqyc-td\"></td>"):f=f+"<td class=\"jqyc-not-empty-td jqyc-td jqyc-day-"+g+" jqyc-day-of-"+b+"-month\" data-month=\""+b+"\" data-day-of-month=\""+g+"\" data-year=\""+c+"\">"+g+" </td>",0==h%7&&(f+="</tr>"),h++,g++;return{monthHTMLString:f,firstDayOfPreviousMonth:h%7}}function d(){biggestHeight=0,a(".jqyc-month").css("height","inherit"),a(".jqyc-month").each(function(){var b=a(this).height();b>biggestHeight&&(biggestHeight=b)}),a(".jqyc-month").css("height",biggestHeight)}function e(a){if(!0==$calendar.data("rangepicker-end-choosen")){e=[$calendar.data("rangepicker-start-day-of-month"),$calendar.data("rangepicker-start-month"),$calendar.data("rangepicker-start-year")],f=[$calendar.data("rangepicker-end-day-of-month"),$calendar.data("rangepicker-end-month"),$calendar.data("rangepicker-end-year")];var b=new Date(e[2],e[1],e[0]),c=new Date(f[2],f[1],f[0]);if(b>c)var d=e,e=f,f=d;startYear=e[2],startMonth=e[1],e=e[0],endYear=f[2],endMonth=f[1],f=f[0];var g=[];for(startYearToIterate=startYear;startYearToIterate!=endYear;)g.push(startYearToIterate+1),startYearToIterate++;if(0==g.length){var h=[];for(startMonthToIterate=startMonth;startMonthToIterate!=endMonth;)h.push(startMonthToIterate+1),startMonthToIterate++;if(0==h.length){var i=[];for(startDayToIterate=e;startDayToIterate<=f;)i.push(startDayToIterate+1),startDayToIterate++,$calendar.find(".jqyc-not-empty-td[data-year=\""+startYear+"\"][data-month=\""+startMonth+"\"][data-day-of-month=\""+(startDayToIterate-1)+"\"]").addClass(a)}else{for(startDayToIterate=e;31>=startDayToIterate;)$calendar.find(".jqyc-not-empty-td[data-year=\""+startYear+"\"][data-month=\""+startMonth+"\"][data-day-of-month=\""+(startDayToIterate+1)+"\"]").addClass(a),startDayToIterate++;for(endDayToIterate=1;endDayToIterate<=f;)$calendar.find(".jqyc-not-empty-td[data-year=\""+endYear+"\"][data-month=\""+endMonth+"\"][data-day-of-month=\""+(endDayToIterate-1)+"\"]").addClass(a),endDayToIterate++;for(startMonthToIterate=startMonth+1;startMonthToIterate<endMonth;){for(startDayToIterate=1;32>=startDayToIterate;)$calendar.find(".jqyc-not-empty-td[data-year=\""+endYear+"\"][data-month=\""+startMonthToIterate+"\"][data-day-of-month=\""+(startDayToIterate-1)+"\"]").addClass(a),startDayToIterate++;startMonthToIterate++}}}else{for(startDayToIterate=e;31>=startDayToIterate;)$calendar.find(".jqyc-not-empty-td[data-year=\""+startYear+"\"][data-month=\""+startMonth+"\"][data-day-of-month=\""+(startDayToIterate+0)+"\"]").addClass(a),startDayToIterate++;for(endDayToIterate=f;1<=endDayToIterate;)$calendar.find(".jqyc-not-empty-td[data-year=\""+endYear+"\"][data-month=\""+endMonth+"\"][data-day-of-month=\""+(endDayToIterate-0)+"\"]").addClass(a),endDayToIterate--;for(startMonthToIterate=startMonth+1;13>=startMonthToIterate;){for(startDayToIterate=1;32>=startDayToIterate;)$calendar.find(".jqyc-not-empty-td[data-year=\""+startYear+"\"][data-month=\""+startMonthToIterate+"\"][data-day-of-month=\""+(startDayToIterate-1)+"\"]").addClass(a),startDayToIterate++;startMonthToIterate++}for(endMonthToIterate=endMonth-1;1<=endMonthToIterate;){for(endDayToIterate=32;1<=endDayToIterate;)$calendar.find(".jqyc-not-empty-td[data-year=\""+endYear+"\"][data-month=\""+endMonthToIterate+"\"][data-day-of-month=\""+(endDayToIterate-1)+"\"]").addClass(a),endDayToIterate--;endMonthToIterate--}for(startYearToIterate=startYear+1;startYearToIterate<endYear;){for(startMonthToIterate=1;13>=startMonthToIterate;){for(startDayToIterate=1;32>=startDayToIterate;)$calendar.find(".jqyc-not-empty-td[data-year=\""+startYearToIterate+"\"][data-month=\""+startMonthToIterate+"\"][data-day-of-month=\""+(startDayToIterate-1)+"\"]").addClass(a),startDayToIterate++;startMonthToIterate++}startYearToIterate++}}}}var f={init:function(){},destroy:function(){this.empty()},hide:function(){this.hide()},recalcHeight:function(){d()},clearText:function(a,b,c){this.find(".jqyc-not-empty-td[data-day-of-month=\""+c+"\"].jqyc-not-empty-td[data-month=\""+b+"\"].jqyc-not-empty-td[data-year=\""+a+"\"]").removeClass("jqyc-appended").text(c),d()},clearTextFromAll:function(){this.find(".jqyc-appended").each(function(){a(this).removeClass("jqyc-appended").text(a(this).data("day-of-month"))}),d()},appendText:function(a,b,c,e,f="small text-danger"){this.find(".jqyc-not-empty-td[data-day-of-month=\""+e+"\"].jqyc-not-empty-td[data-month=\""+c+"\"].jqyc-not-empty-td[data-year=\""+b+"\"]").addClass("jqyc-appended").append(" <span class=\""+f+"\">"+a+"</span>"),d()}};a.fn.calendar=function(c){if($calendar=this,f[c])return f[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"==typeof c||!c){function d(){var c=parseInt(a(this).parent().parent().data("currentYear"));--settings.startYear,b(settings,$calendar),$calendar.find(".jqyc-prev-year").on("click",d),$calendar.find(".jqyc-next-year").on("click",g),$calendar.find(".jqyc-not-empty-td").on("click",h),$calendar.trigger("jqyc.changeYearToPrevious"),a(this).parent().parent().data("currentYear",c)}function g(){var c=parseInt(a(this).parent().parent().data("currentYear"));++settings.startYear,b(settings,$calendar),$calendar.find(".jqyc-prev-year").on("click",d),$calendar.find(".jqyc-next-year").on("click",g),$calendar.find(".jqyc-not-empty-td").on("click",h),$calendar.trigger("jqyc.changeYearToNext"),a(this).parent().parent().data("currentYear",c)}function h(){var b=a(this).data("year"),c=a(this).data("month"),d=a(this).data("day-of-month");if(null!=settings.minYear&&null!=settings.minMonth&&null!=settings.minDay){var f=new Date(b,c,d);if(parseInt(b)<=parseInt(settings.minYear)&&(parseInt(c)<parseInt(settings.minMonth)||parseInt(c)==parseInt(settings.minMonth)&&parseInt(d)<parseInt(settings.minDay)))return null!=settings.minDayMessage&&alert(settings.minDayMessage),$calendar.trigger("jqyc.notMinDayChoose"),$calendar.trigger("jqyc.outOfRangeDayChoose"),!1}if(null!=settings.maxYear&&null!=settings.maxMonth&&null!=settings.maxDay){var f=new Date(b,c,d);if(parseInt(b)<=parseInt(settings.maxYear)&&(parseInt(c)<parseInt(settings.maxMonth)||parseInt(c)==parseInt(settings.maxMonth)&&parseInt(d)<parseInt(settings.maxDay)))return null!=settings.maxDayMessage&&alert(settings.maxDayMessage),$calendar.trigger("jqyc.notMaxDayChoose"),$calendar.trigger("jqyc.outOfRangeDayChoose"),!1}if("rangepicker"==settings.mode)if(!0!=$calendar.data("rangepicker-start-choosen"))$calendar.data("rangepicker-start-day-of-month",d),$calendar.data("rangepicker-start-month",c),$calendar.data("rangepicker-start-year",b),$calendar.data("rangepicker-start-choosen",!0),a(this).addClass("jqyc-start-day-of-month");else if(!0!=$calendar.data("rangepicker-end-choosen")){if(settings.maxDaysToChoose){var g=[$calendar.data("rangepicker-start-day-of-month"),$calendar.data("rangepicker-start-month"),$calendar.data("rangepicker-start-year")],h=[d,c,b],i=new Date(g[2],g[1],g[0]),j=new Date(h[2],h[1],h[0]),k=Math.round((i-j)/86400000);if(settings.maxDaysToChoose-1<Math.abs(k))return settings.maxDaysToChooseMessage&&alert(settings.maxDaysToChooseMessage+settings.maxDaysToChoose),a(".jqyc-range-choosen-between").removeClass("jqyc-range-choosen-between"),$calendar.data("rangepicker-end-day-of-month",!1),$calendar.data("rangepicker-end-month",!1),$calendar.data("rangepicker-end-year",!1),$calendar.data("rangepicker-end-choosen",!1),$calendar.find(".jqyc-end-day-of-month").removeClass("jqyc-end-day-of-month"),$calendar.find(".jqyc-start-day-of-month").removeClass("jqyc-start-day-of-month"),$calendar.data("rangepicker-start-day-of-month",!1),$calendar.data("rangepicker-start-month",!1),$calendar.data("rangepicker-start-year",!1),$calendar.data("rangepicker-start-choosen",!1),!1}$calendar.data("rangepicker-end-day-of-month",d),$calendar.data("rangepicker-end-month",c),$calendar.data("rangepicker-end-year",b),$calendar.data("rangepicker-end-choosen",!0),a(this).addClass("jqyc-end-day-of-month"),e("jqyc-range-choosen-between"),$calendar.trigger("jqyc.rangeChoose"),$calendar.trigger("jqyc.rageChoose")}else a(".jqyc-range-choosen-between").removeClass("jqyc-range-choosen-between"),$calendar.data("rangepicker-end-day-of-month",!1),$calendar.data("rangepicker-end-month",!1),$calendar.data("rangepicker-end-year",!1),$calendar.data("rangepicker-end-choosen",!1),$calendar.find(".jqyc-end-day-of-month").removeClass("jqyc-end-day-of-month"),$calendar.find(".jqyc-start-day-of-month").removeClass("jqyc-start-day-of-month"),$calendar.data("rangepicker-start-day-of-month",d),$calendar.data("rangepicker-start-month",c),$calendar.data("rangepicker-start-year",b),$calendar.data("rangepicker-start-choosen",!0),a(this).addClass("jqyc-start-day-of-month");if(settings.addUniqueClassOnClick&&"classic"==settings.mode){var l=settings.addUniqueClassOnClick;a("."+l).removeClass(l),a(this).addClass(l)}$calendar.data("day-of-month",d),$calendar.data("month",c),$calendar.data("year",b),$calendar.trigger("jqyc.dayChoose")}return settings=a.extend({},a.fn.calendar.defaults,c),b(settings,this),$calendar.find(".jqyc-prev-year").on("click",d),$calendar.find(".jqyc-next-year").on("click",g),$calendar.find(".jqyc-not-empty-td").on("click",h),f.init.apply(this,arguments)}a.error("Method "+settings+" does not exist on jQuery.tooltip")};var g=new Date;a.fn.calendar.defaults={showHeaders:!0,startYear:g.getFullYear(),maxYear:null,maxDay:null,maxMonth:null,maxDayMessage:"You can not choose day from future",minYear:null,minDay:null,minMonth:null,minDayMessage:"You can not choose day from past",boostrapVersion:4,cols:12,colsSm:6,colsMd:4,colsLg:3,colsXl:3,maxDaysToChoose:!1,maxDaysToChooseMessage:"Maximum days to choose is: ",mode:"classic",addUniqueClassOnClick:!1,l10n:{jan:"January",feb:"February",mar:"March",apr:"April",may:"May",jun:"June",jul:"July",aug:"August",sep:"September",oct:"October",nov:"November",dec:"December",mn:"Mo",tu:"Tu",we:"We",th:"Th",fr:"Fr",sa:"Sa",su:"Su"}}})(jQuery);